$mixer-corner: 3px;
$mixer-timeline: 35px;
$mixer-track-height: 50px;
$mixer-track-tag: 8px;
$mixer-track-control: 200px;
$mixer-footer-height: 30px;
@import './mixer-tracks.scss';

// ============================================================================
// Mixer Layout - Transport Controls
// ============================================================================
.transport {
  position: absolute;
  top: 2px;
  left: 8px;
  height: 30px;
  width: 220px;

  .btn {
    font-size: 16px;
    padding: 8px 10px 8px 11px;
  }
}

// ============================================================================
// Mixer Console
// ============================================================================
.mixer {
  position: absolute;
  top:    15px + $mixer-timeline;
  left:   15px;
  right:  29px;
  bottom: 15px;

  border: 1px solid #000;
  border-radius: $mixer-corner+3px 0 $mixer-corner+3px $mixer-corner+3px;
  background: #111;

  &:before,
  &:after {
    content: '';
    position: absolute;
    left: 0;
    right: 3px;
    height: 10px;
    z-index: 3; // Above .mixer-track-list
    pointer-events: none;
  }

  &:before {
    top: 0;

    border-radius: $mixer-corner+3px 0 0 0;
    box-shadow: inset 0 10px 10px -8px #000;
  }

  &:after {
    bottom: $mixer-footer-height;

    border-bottom: 1px solid #555;
    box-shadow: inset 0 -10px 10px -8px #000;
  }  

  > .timeline-playhead-window,
  > .timeline-cursor-window {
    top: -$mixer-timeline;
    left:   3px - 1px + $mixer-track-control + $mixer-track-tag + 10px;
    right:  3px + 10px;
    bottom: $mixer-footer-height + 1px + 1px;
  }
}
.mixer-overflow {
  right:  15px;

  border-radius: $mixer-corner+3px;

  &:before,
  &:after {
    right: 18px;
  }

  .mixer-timeline {
    right: -1px + 14px;
  }
  > .timeline-cursor-window {
    right:  3px + 10px + 14px;
  }
  > .mixer-track-list-gutter {
    margin-right: 14px;
    border-radius: $mixer-corner+3px;
  }
  > .mixer-scroll-window {
    margin-right: 14px;
  }
  > .mixer-scroll-horizontal {
    right: 3px + 10px + 14px;
  }
  > .mixer-settings-right {
    width: 3px + 1px + 14px;
  }
  .mixer-empty-area {
    display: none;
  }
  .mixer-track-new-wrapper {
    box-shadow: inset 0 0 20px 10px #111;
    background: rgba(17,17,17,0.5);
  }
}

// ============================================================================
// Mixer Timeline
// ============================================================================
.mixer-timeline {
  position: absolute;
  top:   -$mixer-timeline - 1px;
  left:     3px + $mixer-track-control + $mixer-track-tag;
  right:   -1px;  // Negate the outside border
  height:  $mixer-timeline;
  z-index:  2;

  border-radius: $mixer-corner+3px $mixer-corner+3px 0 0;
  background: #222;

  > canvas {
    width: 100%;
    border-radius: $mixer-corner+3px $mixer-corner+3px 0 0;
  }

  &::after {
    content: '';
    position: absolute;
    top:    0;
    left:   0;
    right:  0;
    bottom: 0;

    border-radius: $mixer-corner+3px $mixer-corner+3px 0 0;
    box-shadow: inset  5px 5px 5px -4px #000,
                inset -5px 5px 5px -4px #000;
    z-index: 2;   // Above Timeline Canvas
    pointer-events: none;
  }
}

// ============================================================================
// Mixer Tracks
// ============================================================================
.mixer-track-list {
  position: relative;
  padding-left: 0;
  list-style: none;
  z-index: 2; // Above .mixer-scroll-window

  border-radius: $mixer-corner+3px 0 $mixer-corner+3px $mixer-corner+3px;
  height: 100%;

  pointer-events: none;
}
.mixer-track-list-gutter {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: $mixer-footer-height;
  overflow: hidden;

  border-radius: $mixer-corner+3px;
  z-index: 1; // Solves unclipped border-radius bug

  pointer-events: none;
}
.mixer-empty-area {
  position: absolute;
  top: 264px;
  left: 3px + $mixer-track-control + $mixer-track-tag;
  right: 3px;
  bottom: 0;
  z-index: 1; // Above mixer-tracks

  box-shadow: inset 0 0 20px 10px #111;
  background: rgba(17,17,17,0.5);

  pointer-events: none;
}
.mixer-scroll-window {
  position: absolute;
  top: 0;
  left: 3px + 1px + $mixer-track-control + $mixer-track-tag;
  right: 3px + 1px;
  bottom: 0;

  overflow: hidden;

  &:before,
  &:after {
    content: '';
    position: absolute;
    top: 0;
    width: 20px;
    bottom: 0;
  }

  &:before {
    left: 0;
    box-shadow: inset 20px 0 20px -20px #111;
  }

  &:after {
    right: 0;
    border-radius: 0 $mixer-corner $mixer-corner 0;
    box-shadow: inset -20px 0 20px -20px #111;
  }

  > canvas {
    width: 100%;
  }
}
.mixer-settings-center {
  position: absolute;
  left:    0;
  right:   0;
  bottom:  0;
  height:  $mixer-footer-height;
  z-index: 2; // Above .mixer-scroll-window

  box-shadow: inset 0 -4px 10px -4px #000;
}
.mixer-scroll-horizontal {
  position: absolute;
  left:   10px;
  right:  10px;
  bottom: 10px;
  height: 10px;
}
.mixer-scroll-vertical {
  position: absolute;
  top: 3px;
  right: 3px;
  bottom: 3px + $mixer-footer-height + 1px;
  z-index: 2; // Above .mixer-scroll-window
}
.mixer-settings-left {
  position: absolute;
  left: 0;
  bottom: 0;
  height: $mixer-footer-height + 1px;
  width: 3px + $mixer-track-control + $mixer-track-tag;
  z-index: 4; // Above .mixer-arrangement:after shadow

  border-top: 1px solid #666;
  border-right: 1px solid #666;
  border-radius: 0 0 0 $mixer-corner+3px;
  background: #444;
  box-shadow:
    inset 4px -4px 10px -4px #000,
          1px -2px 4px       #222;
}
.mixer-settings-right {
  position: absolute;
  right: 0;
  bottom: 0;
  height: $mixer-footer-height + 1px;
  width: 3px + 1px;
  z-index: 4; // Above .mixer-arrangement:after shadow

  border-top: 1px solid #666;
  border-left: 1px solid #666;
  border-radius: 0 0 $mixer-corner+3px 0;
  background: #444;
  box-shadow:
    inset -4px -4px 10px -4px #000,
          -1px -2px 4px       #222;
}
